version: "3.7"

x-common: &common
  volumes:
    - ./sattl:/app/sattl
    - ./config.json:/app/config.json:ro
  build:
    context: .

services:

  tests:
    <<: *common
    volumes:
    - ./ipython_config.py:/app/ipython_config.py
    - ./tests:/app/tests

  sattl:
    <<: *common
    build:
      target: base
